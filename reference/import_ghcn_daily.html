<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-GB"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Import data from the Global Historical Climatology daily (GHCNd) database ‚Äî import_ghcn_daily ‚Ä¢ worldmet</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="‚Äùimage/svg+xml‚Äù" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Nunito_Sans-0.4.10/font.css" rel="stylesheet"><link href="../deps/JetBrains_Mono-0.4.10/font.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Import data from the Global Historical Climatology daily (GHCNd) database ‚Äî import_ghcn_daily"><meta name="description" content="This function flexibly accesses meteorological data from the GHCNd database.
Users can provide any of stations, and control whether attribute codes are
returned with the data."><meta property="og:description" content="This function flexibly accesses meteorological data from the GHCNd database.
Users can provide any of stations, and control whether attribute codes are
returned with the data."><meta property="og:image" content="https://openair-project.github.io/worldmet/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">worldmet</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.10.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/worldmet.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Functions</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/openair-project" aria-label="Website"><span class="fa fa-globe"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://openair-project.github.io/book/" aria-label="Book"><span class="fa fa-book"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/openair-project/worldmet/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-packages" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Packages</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-packages"><li><h6 class="dropdown-header" data-toc-skip>Data Analysis</h6></li>
    <li><a class="external-link dropdown-item" href="https://openair-project.github.io/openair/">üß≠ openair</a></li>
    <li><a class="external-link dropdown-item" href="https://openair-project.github.io/openairmaps/">üó∫Ô∏è openairmaps</a></li>
    <li><a class="external-link dropdown-item" href="https://openair-project.github.io/deweather/">üìâ deweather</a></li>
    <li><h6 class="dropdown-header" data-toc-skip>Data Access</h6></li>
    <li><a class="dropdown-item" href="https://openair-project.github.io/worldmet/">üçÉ worldmet</a></li>
    <li><a class="external-link dropdown-item" href="https://openair-project.github.io/euroaq/">üåç euroaq</a></li>
    <li><a class="external-link dropdown-item" href="https://openair-project.github.io/ukaq/">üëë ukaq</a></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Import data from the Global Historical Climatology daily (GHCNd) database</h1>
      <small class="dont-index">Source: <a href="https://github.com/openair-project/worldmet/blob/main/R/import_ghcn_daily.R" class="external-link"><code>R/import_ghcn_daily.R</code></a></small>
      <div class="d-none name"><code>import_ghcn_daily.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function flexibly accesses meteorological data from the GHCNd database.
Users can provide any of stations, and control whether attribute codes are
returned with the data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">import_ghcn_daily</span><span class="op">(</span></span>
<span>  <span class="va">station</span>,</span>
<span>  year <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  source <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"csv"</span><span class="op">)</span>,</span>
<span>  extra <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  append_codes <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  codes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"measurement_flag"</span>, <span class="st">"quality_flag"</span>, <span class="st">"source_flag"</span><span class="op">)</span>,</span>
<span>  progress <span class="op">=</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/is_interactive.html" class="external-link">is_interactive</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-station">station<a class="anchor" aria-label="anchor" href="#arg-station"></a></dt>
<dd><p>One or more site codes for the station(s) of interest,
obtained using <code><a href="import_ghcn_stations.html">import_ghcn_stations()</a></code>.</p></dd>


<dt id="arg-year">year<a class="anchor" aria-label="anchor" href="#arg-year"></a></dt>
<dd><p>One or more years of interest. If <code>NULL</code>, the default, all years
of data available for the chosen <code>station</code>s will be imported. Note that, in
the GHCNd and GHCNm, files are split by station but not year, so setting a
<code>year</code> will not speed up the download. Specifying fewer years will improve
the speed of a GHCNh download, however.</p></dd>


<dt id="arg-source">source<a class="anchor" aria-label="anchor" href="#arg-source"></a></dt>
<dd><p>The data format for the GHCNd. Currently only <code>"csv"</code> is
supported. This argument is included for future use.</p></dd>


<dt id="arg-extra">extra<a class="anchor" aria-label="anchor" href="#arg-extra"></a></dt>
<dd><p>Should additional columns be returned? The default, <code>FALSE</code>,
returns an opinionated selection of elements that'll be of most interest to
most users. <code>TRUE</code> will return everything available.</p></dd>


<dt id="arg-append-codes">append_codes<a class="anchor" aria-label="anchor" href="#arg-append-codes"></a></dt>
<dd><p>Logical. Should various codes and flags be appended to
the output dataframe?</p></dd>


<dt id="arg-codes">codes<a class="anchor" aria-label="anchor" href="#arg-codes"></a></dt>
<dd><p>When <code>append_codes</code> is <code>TRUE</code>, which codes should be appended to
the dataframe? Any combination of <code>"measurement_flag"</code>, <code>"quality_flag"</code>,
and/or <code>"source_flag"</code>.</p></dd>


<dt id="arg-progress">progress<a class="anchor" aria-label="anchor" href="#arg-progress"></a></dt>
<dd><p>Show a progress bar when importing many stations/years?
Defaults to <code>TRUE</code> in interactive R sessions. Passed to <code>.progress</code> in
<code><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">purrr::map()</a></code> and/or <code><a href="https://purrr.tidyverse.org/reference/pmap.html" class="external-link">purrr::pmap()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a <a href="https://tibble.tidyverse.org/reference/tibble-package.html" class="external-link">tibble</a></p>
    </div>
    <div class="section level2">
    <h2 id="data-definition">Data Definition<a class="anchor" aria-label="anchor" href="#data-definition"></a></h2>



<p>The core elements in the GHCNd are:</p><ul><li><p><strong>PRCP</strong>: Precipitation (mm)</p></li>
<li><p><strong>SNOW</strong>: Snowfall (mm)</p></li>
<li><p><strong>SNWD</strong>: Snow depth (mm)</p></li>
<li><p><strong>TMAX</strong>: Maximum temperature (degrees C)</p></li>
<li><p><strong>TMIN</strong>: Minimum temperature (degrees C)</p></li>
</ul><p>Other elements which may appear are:</p><ul><li><p><strong>ACMC</strong>: Average cloudiness midnight to midnight from 30-second ceilometer data (percent)</p></li>
<li><p><strong>ACMH</strong>: Average cloudiness midnight to midnight from manual observations (percent)</p></li>
<li><p><strong>ACSC</strong>: Average cloudiness sunrise to sunset from 30-second ceilometer data (percent)</p></li>
<li><p><strong>ACSH</strong>: Average cloudiness sunrise to sunset from manual observations (percent)</p></li>
<li><p><strong>ADPT</strong>: Average Dew Point Temperature for the day (degrees C)</p></li>
<li><p><strong>ASLP</strong>: Average Sea Level Pressure for the day (hPa)</p></li>
<li><p><strong>ASTP</strong>: Average Station Level Pressure for the day (hPa)</p></li>
<li><p><strong>AWBT</strong>: Average Wet Bulb Temperature for the day (degrees C)</p></li>
<li><p><strong>AWDR</strong>: Average daily wind direction (degrees)</p></li>
<li><p><strong>AWND</strong>: Average daily wind speed (meters per second)</p></li>
<li><p><strong>DAEV</strong>: Number of days included in the multiday evaporation total (MDEV)</p></li>
<li><p><strong>DAPR</strong>: Number of days included in the multiday precipitation total (MDPR)</p></li>
<li><p><strong>DASF</strong>: Number of days included in the multiday snowfall total (MDSF)</p></li>
<li><p><strong>DATN</strong>: Number of days included in the multiday minimum temperature (MDTN)</p></li>
<li><p><strong>DATX</strong>: Number of days included in the multiday maximum temperature (MDTX)</p></li>
<li><p><strong>DAWM</strong>: Number of days included in the multiday wind movement (MDWM)</p></li>
<li><p><strong>DWPR</strong>: Number of days with non-zero precipitation included in multiday precipitation total (MDPR)</p></li>
<li><p><strong>EVAP</strong>: Evaporation of water from evaporation pan (mm)</p></li>
<li><p><strong>FMTM</strong>: Time of fastest mile or fastest 1-minute wind (hours and minutes, i.e., HHMM)</p></li>
<li><p><strong>FRGB</strong>: Base of frozen ground layer (cm)</p></li>
<li><p><strong>FRGT</strong>: Top of frozen ground layer (cm)</p></li>
<li><p><strong>FRTH</strong>: Thickness of frozen ground layer (cm)</p></li>
<li><p><strong>GAHT</strong>: Difference between river and gauge height (cm)</p></li>
<li><p><strong>MDEV</strong>: Multiday evaporation total (mm; use with <strong>DAEV</strong>)</p></li>
<li><p><strong>MDPR</strong>: Multiday precipitation total (mm; use with <strong>DAPR</strong> and <strong>DWPR</strong>, if available)</p></li>
<li><p><strong>MDSF</strong>: Multiday snowfall total</p></li>
<li><p><strong>MDTN</strong>: Multiday minimum temperature (degrees C; use with <strong>DATN</strong>)</p></li>
<li><p><strong>MDTX</strong>: Multiday maximum temperature (degrees C; use with <strong>DATX</strong>)</p></li>
<li><p><strong>MDWM</strong>: Multiday wind movement (km)</p></li>
<li><p><strong>MNPN</strong>: Daily minimum temperature of water in an evaporation pan (degrees C)</p></li>
<li><p><strong>MXPN</strong>: Daily maximum temperature of water in an evaporation pan (degrees C)</p></li>
<li><p><strong>PGTM</strong>: Peak gust time (hours and minutes, i.e., HHMM)</p></li>
<li><p><strong>PSUN</strong>: Daily percent of possible sunshine (percent)</p></li>
<li><p><strong>RHAV</strong>: Average relative humidity for the day (percent)</p></li>
<li><p><strong>RHMN</strong>: Minimum relative humidity for the day (percent)</p></li>
<li><p><strong>RHMX</strong>: Maximum relative humidity for the day (percent)</p></li>
<li><p><strong>SN$#</strong>: Minimum soil temperature (degrees C) where $ corresponds to a code for ground cover and # corresponds to a code for soil depth. Ground cover codes: 0=unknown, 1=grass, 2=fallow, 3=bare ground, 4=brome grass, 5=sod, 6=straw mulch, 7=grass muck, 8=bare muck. Depth codes: 1=5cm, 2=10cm, 3=20cm, 4=50cm, 5=100cm, 6=150cm, 7=180cm</p></li>
<li><p><strong>SX$#</strong>: Maximum soil temperature (degrees C) where $ corresponds to a code for ground cover and # corresponds to a code for soil depth. See <strong>SN$#</strong> for ground cover and depth codes</p></li>
<li><p><strong>TAXN</strong>: Average daily temperature computed as <code>(TMAX+TMIN)/2.0</code> (degrees C)</p></li>
<li><p><strong>TAVG</strong>: Average daily temperature (degrees C). Note that TAVG from source 'S' corresponds to an average of hourly readings for the period ending at 2400 UTC rather than local midnight or other Local Standard Time according to a specific Met Service's protocol. For sources other than 'S' TAVG is computed in a variety of ways including traditional fixed hours of the day whereas TAXN is solely computed as (TMAX+TMIN)/2.0</p></li>
<li><p><strong>THIC</strong>: Thickness of ice on water (mm)</p></li>
<li><p><strong>TOBS</strong>: Temperature at the time of observation (degrees C)</p></li>
<li><p><strong>TSUN</strong>: Daily total sunshine (minutes)</p></li>
<li><p><strong>WDF1</strong>: Direction of fastest 1-minute wind (degrees)</p></li>
<li><p><strong>WDF2</strong>: Direction of fastest 2-minute wind (degrees)</p></li>
<li><p><strong>WDF5</strong>: Direction of fastest 5-second wind (degrees)</p></li>
<li><p><strong>WDFG</strong>: Direction of peak wind gust (degrees)</p></li>
<li><p><strong>WDFI</strong>: Direction of highest instantaneous wind (degrees)</p></li>
<li><p><strong>WDFM</strong>: Fastest mile wind direction (degrees)</p></li>
<li><p><strong>WDMV</strong>: 24-hour wind movement (km)</p></li>
<li><p><strong>WESD</strong>: Water equivalent of snow on the ground (mm)</p></li>
<li><p><strong>WESF</strong>: Water equivalent of snowfall (mm)</p></li>
<li><p><strong>WSF1</strong>: Fastest 1-minute wind speed (meters per second)</p></li>
<li><p><strong>WSF2</strong>: Fastest 2-minute wind speed (meters per second)</p></li>
<li><p><strong>WSF5</strong>: Fastest 5-second wind speed (meters per second)</p></li>
<li><p><strong>WSFG</strong>: Peak gust wind speed (meters per second)</p></li>
<li><p><strong>WSFI</strong>: Highest instantaneous wind speed (meters per second)</p></li>
<li><p><strong>WSFM</strong>: Fastest mile wind speed (meters per second)</p></li>
</ul><p>There can be any number of weather types (<strong>WT$$</strong>)</p><ul><li><p><strong>WT01</strong>: Fog, ice fog, or freezing fog (may include heavy fog)</p></li>
<li><p><strong>WT02</strong>: Heavy fog or heaving freezing fog (not always distinguished from fog)</p></li>
<li><p><strong>WT03</strong>: Thunder</p></li>
<li><p><strong>WT04</strong>: Ice pellets, sleet, snow pellets, or small hail</p></li>
<li><p><strong>WT05</strong>: Hail (may include small hail)</p></li>
<li><p><strong>WT06</strong>: Glaze or rime</p></li>
<li><p><strong>WT07</strong>: Dust, volcanic ash, blowing dust, blowing sand, or blowing obstruction</p></li>
<li><p><strong>WT08</strong>: Smoke or haze</p></li>
<li><p><strong>WT09</strong>: Blowing or drifting snow</p></li>
<li><p><strong>WT10</strong>: Tornado, waterspout, or funnel cloud</p></li>
<li><p><strong>WT11</strong>: High or damaging winds</p></li>
<li><p><strong>WT12</strong>: Blowing spray</p></li>
<li><p><strong>WT13</strong>: Mist</p></li>
<li><p><strong>WT14</strong>: Drizzle</p></li>
<li><p><strong>WT15</strong>: Freezing drizzle</p></li>
<li><p><strong>WT16</strong>: Rain (may include freezing rain, drizzle, and freezing drizzle)</p></li>
<li><p><strong>WT17</strong>: Freezing rain</p></li>
<li><p><strong>WT18</strong>: Snow, snow pellets, snow grains, or ice crystals</p></li>
<li><p><strong>WT19</strong>: Unknown source of precipitation</p></li>
<li><p><strong>WT21</strong>: Ground fog</p></li>
<li><p><strong>WT22</strong>: Ice fog or freezing fog</p></li>
</ul><p>There can also be any number of 'weather in the vicinity' columns
(<strong>WV$$</strong>)</p><ul><li><p><strong>WV01</strong>: Fog, ice fog, or freezing fog (may include heavy fog)</p></li>
<li><p><strong>WV03</strong>: Thunder</p></li>
<li><p><strong>WV07</strong>: Ash, dust, sand, or other blowing obstruction</p></li>
<li><p><strong>WV18</strong>: Snow or ice crystals</p></li>
<li><p><strong>WV20</strong>: Rain or snow shower</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other GHCN functions:
<code><a href="import_ghcn_countries.html">import_ghcn_countries()</a></code>,
<code><a href="import_ghcn_hourly.html">import_ghcn_hourly()</a></code>,
<code><a href="import_ghcn_inventory.html">import_ghcn_inventory()</a></code>,
<code><a href="import_ghcn_monthly.html">import_ghcn_monthly_temp()</a></code>,
<code><a href="import_ghcn_stations.html">import_ghcn_stations()</a></code></p></div>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Jack Davison</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Carslaw, Jack Davison.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

